# Как да създадем проект за тестване на SQL таблици с Python

Този наръчник ще ви преведе стъпка по стъпка (ред по ред) през процеса на създаване на прост Python проект, в който можете да упражнявате създаването на SQL таблици и заявки.

Ще използваме вградената в Python библиотека **`sqlite3`**, така че не е нужно да инсталирате нищо допълнително!

---

## Стъпка 1: Подготовка на файловата структура

1. Създайте нова папка за вашия проект, например `sql_test_project`.
2. В тази папка създайте нов Python файл, например `main.py`.

## Стъпка 2: Писане на кода (Ред по ред)

Отворете `main.py` и напишете следния код. По-долу е обяснено какво прави всеки ред.

```python
import sqlite3

# 1. Свързване с базата данни (или създаване, ако не съществува)
connection = sqlite3.connect("my_database.db")

# 2. Създаване на курсор (обект, който изпълнява заявките)
cursor = connection.cursor()

# 3. Дефиниране на SQL заявката за създаване на таблица
sql_command = """
CREATE TABLE IF NOT EXISTS students (
    id INTEGER PRIMARY KEY,
    name TEXT,
    age INTEGER,
    grade REAL
);
"""

# 4. Изпълнение на заявката
cursor.execute(sql_command)

# 5. Запазване на промените (ако добавяме данни)
connection.commit()

# 6. Затваряне на връзката
connection.close()
```

---

## Обяснение ред по ред

### 1. Импортиране на библиотеката
```python
import sqlite3
```
*   **Какво прави:** Зарежда инструментариума на Python за работа с SQLite бази данни. Това е "мостът" между вашия Python код и базата данни.

### 2. Свързване с базата данни
```python
connection = sqlite3.connect("my_database.db")
```
*   **Какво прави:**
    *   Създава файл `my_database.db` във вашата папка, ако такъв не съществува.
    *   Ако файлът съществува, просто се свързва с него.
    *   Променливата `connection` пази тази връзка отворена.

### 3. Създаване на курсор
```python
cursor = connection.cursor()
```
*   **Какво прави:** `cursor` е обектът, който реално "работи" с базата. Представете си връзката (`connection`) като кабела към базата, а курсора (`cursor`) като работника, който изпраща команди по този кабел.

### 4. Дефиниране на SQL заявката
```python
sql_command = """
CREATE TABLE IF NOT EXISTS students (
    id INTEGER PRIMARY KEY,
    name TEXT,
    age INTEGER,
    grade REAL
);
"""
```
*   **Какво прави:** Тук просто записваме SQL командата като текст в променлива.
    *   `CREATE TABLE IF NOT EXISTS students`: Създай таблица `students`, но само ако още я няма (за да не гърми кодът при повторно пускане).
    *   В скобите изреждаме колоните и техните типове (INTEGER, TEXT, REAL).

### 5. Изпълнение на заявката
```python
cursor.execute(sql_command)
```
*   **Какво прави:** Курсорът взима текста от променливата `sql_command` и го изпраща към базата данни за изпълнение. В този момент таблицата се създава.

### 6. Запазване на промените (Commit)
```python
connection.commit()
```
*   **Какво прави:** Потвърждава промените. За `CREATE TABLE` често става и автоматично, но е задължително, когато вкарвате данни (`INSERT`), променяте (`UPDATE`) или триете (`DELETE`). Без този ред промените може да се загубят.

### 7. Затваряне на връзката
```python
connection.close()
```
*   **Какво прави:** Затваря файла на базата данни и освобождава ресурсите. Винаги е добра практика да "затваряме вратата" след себе си.

---

## Как да тествате дали работи?

След като изпълните кода (`Run`), във вашата папка ще се появи файл `my_database.db`.

За да видите таблицата вътре, можете да:
1.  Използвате **DB Browser for SQLite** (безплатна програма).
2.  Или инсталирате разширение за VS Code като **"SQLite Viewer"**.
