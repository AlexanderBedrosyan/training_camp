# Упражнения: SELECT, WHERE, UPDATE, DELETE, ORDER BY, LIMIT

Тези задачи са предназначени да упражните наученото в **Лекция 2** — четене, филтриране, промяна и изтриване на данни.

**Инструкции:**
Изпълнявайте задачите последователно. Преди да започнете, се уверете, че таблицата `employees` е създадена и напълнена с данни (виж подготовката от Лекция 2).

```sql
CREATE TABLE IF NOT EXISTS employees (
    id       INTEGER PRIMARY KEY,
    name     TEXT,
    position TEXT,
    salary   REAL
);

INSERT INTO employees (name, position, salary) VALUES ('Ivan Petrov',     'Software Engineer', 4500.50);
INSERT INTO employees (name, position, salary) VALUES ('Maria Ivanova',   'Designer',          3800.00);
INSERT INTO employees (name, position, salary) VALUES ('Georgi Dimitrov', 'Team Lead',         6200.00);
INSERT INTO employees (name, position, salary) VALUES ('Elena Stoyanova', 'QA Engineer',       4100.00);
INSERT INTO employees (name, position, salary) VALUES ('Nikolay Todorov', 'Software Engineer', 4500.50);
INSERT INTO employees (name, position, salary) VALUES ('Petya Koeva',     'Designer',          3600.00);
INSERT INTO employees (name, position, salary) VALUES ('Stefan Boev',     'DevOps Engineer',   5100.00);
```

---

## Част 1: Четене и филтриране на данни (SELECT & WHERE)

### Задача 1: Прочетете само имената и заплатите
Напишете `SELECT` заявка, която връща само колоните `name` и `salary` за **всички** служители.

**Очакван резултат:**

| name             | salary  |
|------------------|---------|
| Ivan Petrov      | 4500.50 |
| Maria Ivanova    | 3800.00 |
| Georgi Dimitrov  | 6200.00 |
| Elena Stoyanova  | 4100.00 |
| Nikolay Todorov  | 4500.50 |
| Petya Koeva      | 3600.00 |
| Stefan Boev      | 5100.00 |

---

### Задача 2: Филтриране по длъжност
Напишете заявка, която връща **всички данни** само за служителите с длъжност `'Designer'`.

*(Подсказка: Използвайте `WHERE` с оператор `=`.)*

**Очакван резултат:** Трябва да видите Maria Ivanova и Petya Koeva.

---

### Задача 3: Комбинирано условие с AND
Напишете заявка, която връща имената и заплатите на служителите, чиято заплата е **между 4000 и 5500** (включително).

*(Подсказка: Използвайте `WHERE колона >= ... AND колона <= ...`.)*

---

### Задача 4: Условие с OR
Напишете заявка, която връща всички служители, които са или `'Team Lead'`, или `'DevOps Engineer'`.

*(Подсказка: Използвайте `OR` в клаузата `WHERE`.)*

---

## Част 2: Сортиране и ограничаване (ORDER BY & LIMIT)

### Задача 5: Сортиране по заплата (низходящо)
Напишете заявка, която връща **всички служители**, наредени от **най-висока към най-ниска** заплата.

*(Подсказка: Използвайте `ORDER BY salary DESC`.)*

---

### Задача 6: Топ 3 най-добре платени
Напишете заявка, която връща само **трите служители с най-висока заплата**.

*(Подсказка: Комбинирайте `ORDER BY salary DESC` и `LIMIT 3`.)*

---

### Задача 7: Служители с ниска заплата, наредени по азбучен ред
Напишете заявка, която връща имената на всички служители с заплата **под 4500**, наредени **по азбучен ред по име**.

*(Подсказка: Използвайте `WHERE`, `ORDER BY name ASC`.)*

---

## Част 3: Промяна и изтриване на данни (UPDATE & DELETE)

### Задача 8: Повишение за DevOps инженера
Напишете `UPDATE` заявка, която увеличава заплатата на `'Stefan Boev'` на `5800.00`.
След обновяването напишете `SELECT`, за да проверите промяната.

---

### Задача 9: Изтриване на запис
Напишете `DELETE` заявка, която изтрива служителя с `id` равно на `6` (Petya Koeva).
После напишете `SELECT *`, за да потвърдите, че записът е изчезнал.

---

## Част 4: Преглед на следващата лекция — SQL Функции

Следващите три задачи ви дават представа за темите от **Лекция 3**. Опитайте се да ги решите — ако не знаете как, не се притеснявайте! Ще ги разгледаме подробно в следващата лекция.

### Задача 10: Текстови функции (String Functions)
SQL позволява да трансформирате текст директно в заявката. Опитайте се да напишете заявка, която връща имената на всички служители с **главни букви**.

*(Подсказка: Функцията `UPPER(колона)` преобразува текст в главни букви.)*

**Пример за синтаксис:**
```sql
SELECT UPPER(name) FROM employees;
```

---

### Задача 11: Математически функции (Math Functions)
SQL може да извършва математически операции върху числата в таблицата. Опитайте се да напишете заявка, която връща имената на всички служители и заплатите им, **закръглени до цяло число**.

*(Подсказка: Функцията `ROUND(колона, 0)` закръгля число до зададен брой десетични знаци.)*

**Пример за синтаксис:**
```sql
SELECT name, ROUND(salary, 0) FROM employees;
```

---

### Задача 12: Wildcard търсене (LIKE и %)
SQL позволява търсене по **шаблон** (pattern matching) с ключовата дума `LIKE`. Символът `%` заменя произволен брой символи. Опитайте се да напишете заявка, която връща всички служители, чието **ime завършва на `'ov'`**.

*(Подсказка: Използвайте `WHERE name LIKE '%ov'`.)*

**Пример за синтаксис:**
```sql
SELECT * FROM employees WHERE name LIKE '%Engineer';
```

---

## Обобщение на командите от Лекция 2

| Команда       | Какво прави                                       |
|---------------|---------------------------------------------------|
| `SELECT`      | Чете данни от таблица                             |
| `WHERE`       | Филтрира редовете по условие                      |
| `AND / OR`    | Комбинира няколко условия                         |
| `UPDATE`      | Променя стойностите в съществуващи редове         |
| `DELETE`      | Изтрива редове от таблица                         |
| `ORDER BY`    | Сортира резултатите (ASC или DESC)                |
| `LIMIT`       | Ограничава броя върнати редове                    |
| `UPPER()`     | *(Следваща лекция)* Преобразува текст в главни    |
| `ROUND()`     | *(Следваща лекция)* Закръглява число              |
| `LIKE`        | *(Следваща лекция)* Търсене по шаблон             |
